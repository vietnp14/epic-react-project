(this.webpackJsonpbookshelf=this.webpackJsonpbookshelf||[]).push([[4],{166:function(t,r,o){"use strict";var c=o(167);t.exports=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==typeof t)throw new TypeError("Expected the first argument to be a function, got `".concat(typeof t,"`"));var o,i,a=r.wait,l=void 0===a?0:a,u=r.before,b=void 0!==u&&u,d=r.after,p=void 0===d||d;if(!b&&!p)throw new Error("Both `before` and `after` are false, function wouldn't be called.");var j=function debouncedFunction(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];var u=this,d=function later(){o=void 0,p&&(i=t.apply(u,c))},j=b&&!o;return clearTimeout(o),o=setTimeout(d,l),j&&(i=t.apply(u,c)),i};return c(j,t),j.cancel=function(){o&&(clearTimeout(o),o=void 0)},j}},167:function(t,r,o){"use strict";var c=o(168),i=o(169),a=function copyProperty(t,r,o,c){if("length"!==o&&"prototype"!==o&&"arguments"!==o&&"caller"!==o){var i=Object.getOwnPropertyDescriptor(t,o),a=Object.getOwnPropertyDescriptor(r,o);!l(i,a)&&c||Object.defineProperty(t,o,a)}},l=function canCopyProperty(t,r){return void 0===t||t.configurable||t.writable===r.writable&&t.enumerable===r.enumerable&&t.configurable===r.configurable&&(t.writable||t.value===r.value)},u=function changePrototype(t,r){var o=Object.getPrototypeOf(r);o!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,o)},b=function wrappedToString(t,r){return"/* Wrapped ".concat(t,"*/\n").concat(r)},d=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),p=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),j=function changeToString(t,r,o){var c=""===o?"":"with ".concat(o.trim(),"() "),a=b.bind(null,c,r.toString());Object.defineProperty(a,"name",p),Object.defineProperty(t,"toString",i(i({},d),{},{value:a}))};t.exports=function mimicFn(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=i.ignoreNonConfigurable,b=void 0!==l&&l,d=t.name,p=c(Reflect.ownKeys(r));try{for(p.s();!(o=p.n()).done;){var m=o.value;a(t,r,m,b)}}catch(O){p.e(O)}finally{p.f()}return u(t,r),j(t,r,d),t}},168:function(t,r,o){var c=o(99);t.exports=function _createForOfIteratorHelper(t,r){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=c(t))||r&&t&&"number"===typeof t.length){o&&(t=o);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,b=!1;return{s:function s(){o=t[Symbol.iterator]()},n:function n(){var t=o.next();return u=t.done,t},e:function e(t){b=!0,l=t},f:function f(){try{u||null==o.return||o.return()}finally{if(b)throw l}}}}},169:function(t,r,o){var c=o(170);function ownKeys(t,r){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);r&&(c=c.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.push.apply(o,c)}return o}t.exports=function _objectSpread2(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(o),!0).forEach((function(r){c(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}},170:function(t,r){t.exports=function _defineProperty(t,r,o){return r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}},171:function(t,r,o){!function(t,r){"use strict";function _interopNamespace(t){if(t&&t.__esModule)return t;var r=Object.create(null);return t&&Object.keys(t).forEach((function(o){if("default"!==o){var c=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:function get(){return t[o]}})}})),r.default=t,Object.freeze(r)}var o=_interopNamespace(r);function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _inheritsLoose(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,_setPrototypeOf(t,r)}var c=function changedArray(t,r){return void 0===t&&(t=[]),void 0===r&&(r=[]),t.length!==r.length||t.some((function(t,o){return!Object.is(t,r[o])}))},i={error:null},a=function(t){function ErrorBoundary(){for(var r,o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(r=t.call.apply(t,[this].concat(c))||this).state=i,r.updatedWithError=!1,r.resetErrorBoundary=function(){for(var t,o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];null==r.props.onReset||(t=r.props).onReset.apply(t,c),r.reset()},r}_inheritsLoose(ErrorBoundary,t),ErrorBoundary.getDerivedStateFromError=function getDerivedStateFromError(t){return{error:t}};var r=ErrorBoundary.prototype;return r.reset=function reset(){this.updatedWithError=!1,this.setState(i)},r.componentDidCatch=function componentDidCatch(t,r){var o,c;null==(o=(c=this.props).onError)||o.call(c,t,r)},r.componentDidMount=function componentDidMount(){null!==this.state.error&&(this.updatedWithError=!0)},r.componentDidUpdate=function componentDidUpdate(t){var r,o,i=this.state.error,a=this.props.resetKeys;null===i||this.updatedWithError?null!==i&&c(t.resetKeys,a)&&(null==(r=(o=this.props).onResetKeysChange)||r.call(o,t.resetKeys,a),this.reset()):this.updatedWithError=!0},r.render=function render(){var t=this.state.error,r=this.props,c=r.fallbackRender,i=r.FallbackComponent,a=r.fallback;if(null!==t){var l={error:t,resetErrorBoundary:this.resetErrorBoundary};if(o.isValidElement(a))return a;if("function"===typeof c)return c(l);if(i)return o.createElement(i,l);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ErrorBoundary}(o.Component);function withErrorBoundary(t,r){var c=function Wrapped(c){return o.createElement(a,r,o.createElement(t,c))},i=t.displayName||t.name||"Unknown";return c.displayName="withErrorBoundary("+i+")",c}function useErrorHandler(t){var r=o.useState(null),c=r[0],i=r[1];if(null!=t)throw t;if(null!=c)throw c;return i}t.ErrorBoundary=a,t.useErrorHandler=useErrorHandler,t.withErrorBoundary=withErrorBoundary,Object.defineProperty(t,"__esModule",{value:!0})}(r,o(0))},174:function(t,r,o){"use strict";o.r(r);var c=o(37),i=o(13),a=o(7),l=o(47),u=o(171),b=o(46),d=o(69),p=o(20),j=o(0),m=o.n(j),O=o(30),h=o(65),g=o(158),v=o(67),y=o(64),k=o(27),w=o(5),x=["label","highlight","onClick","icon"];function TooltipButton(t){var r=t.label,o=t.highlight,c=t.onClick,a=t.icon,l=Object(O.a)(t,x),u=Object(v.a)(),d=u.isLoading,j=u.isError,m=u.error,y=u.run,k=u.reset;return Object(i.c)(g.b,{label:j?m.message:r},Object(i.c)(b.c,Object.assign({css:{backgroundColor:"white",":hover,:focus":{color:d?p.f:j?p.b:o}},disabled:d,onClick:function handleClick(){j?k():y(c())},"aria-label":j?m.message:r},l),d?Object(i.c)(b.k,null):j?Object(i.c)(h.j,null):a))}function StatusButtons(t){var r=t.book,o=Object(k.b)(),c=Object(y.d)(r.id),a=Object(j.useCallback)((function(t){return o(Object(w.l)(t))}),[o]),l=Object(j.useCallback)((function(t){return o(Object(w.k)(t))}),[o]),u=Object(j.useCallback)((function(t){var r=t.bookId;return o(Object(w.e)(r))}),[o]);return Object(i.c)(m.a.Fragment,null,c?Boolean(c.finishDate)?Object(i.c)(TooltipButton,{label:"Mark as unread",highlight:p.l,onClick:function onClick(){return a({id:c.id,finishDate:null})},icon:Object(i.c)(h.a,null)}):Object(i.c)(TooltipButton,{label:"Mark as read",highlight:p.g,onClick:function onClick(){return a({id:c.id,finishDate:Date.now()})},icon:Object(i.c)(h.b,null)}):null,c?Object(i.c)(TooltipButton,{label:"Remove from list",highlight:p.b,onClick:function onClick(){return l({id:c.id})},icon:Object(i.c)(h.c,null)}):Object(i.c)(TooltipButton,{label:"Add to list",highlight:p.h,onClick:function onClick(){return u({bookId:r.id})},icon:Object(i.c)(h.d,null)}))}var E=o(9),S={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"};function Rating(t){var r=t.listItem,o=Object(k.b)(),a=Object(v.a)().run,l=Object(j.useState)(!1),u=Object(E.a)(l,2),b=u[0],d=u[1],m=Object(j.useCallback)((function(t){return a(o(Object(w.l)(t)))}),[o,a]);Object(j.useEffect)((function(){function handleKeyDown(t){"Tab"===t.key&&d(!0)}return document.addEventListener("keydown",handleKeyDown,{once:!0}),function(){return document.removeEventListener("keydown",handleKeyDown)}}),[]);var O="list-item-".concat(r.id),g=Array.from({length:5}).map((function(t,o){var a,l="rating-".concat(r.id,"-").concat(o),u=o+1;return Object(i.c)(j.Fragment,{key:o},Object(i.c)("input",{name:O,type:"radio",id:l,value:u,checked:u===r.rating,onChange:function onChange(){m({id:r.id,rating:u})},css:[S,(a={},Object(c.a)(a,".".concat(O," &:checked ~ label"),{color:p.e}),Object(c.a)(a,".".concat(O," &:checked + label"),{color:p.j}),Object(c.a)(a,".".concat(O," &:hover ~ label"),{color:"".concat(p.e," !important")}),Object(c.a)(a,".".concat(O," &:hover + label"),{color:"orange !important"}),Object(c.a)(a,".".concat(O," &:focus + label svg"),{outline:b?["1px solid orange","-webkit-focus-ring-color auto 5px"]:"initial"}),a)]}),Object(i.c)("label",{htmlFor:l,css:{cursor:"pointer",color:r.rating<0?p.e:p.j,margin:0}},Object(i.c)("span",{css:S},u," ",1===u?"star":"stars"),Object(i.c)(h.h,{css:{width:"16px",margin:"0 2px"}})))}));return Object(i.c)("div",{onClick:function onClick(t){return t.stopPropagation()},className:O,css:Object(c.a)({display:"inline-flex",alignItems:"center"},"&.".concat(O,":hover input + label"),{color:p.j})},Object(i.c)("span",{css:{display:"flex"}},g))}function BookRow(t){var r=t.book,o=r.title,a=r.author,u=r.coverImageUrl,b=Object(y.d)(r.id),j="book-row-book-".concat(r.id);return Object(i.c)("div",{css:{display:"flex",alignItems:"center",justifyContent:"flex-end",position:"relative"}},Object(i.c)(l.b,{"aria-labelledby":j,to:"/book/".concat(r.id),css:{minHeight:270,flexGrow:2,display:"grid",gridTemplateColumns:"140px 1fr",gridGap:20,border:"1px solid ".concat(p.e),color:p.k,padding:"1.25em",borderRadius:"3px",":hover,:focus":{textDecoration:"none",boxShadow:"0 5px 15px -5px rgba(0,0,0,.08)",color:"inherit"}}},Object(i.c)("div",{css:Object(c.a)({width:140},d.a,{width:100})},Object(i.c)("img",{src:u,alt:"".concat(o," book cover"),css:{maxHeight:"100%",width:"100%"}})),Object(i.c)("div",{css:{flex:1}},Object(i.c)("div",{css:{display:"flex",justifyContent:"space-between"}},Object(i.c)("div",{css:{flex:1}},Object(i.c)("h2",{id:j,css:{fontSize:"1.25em",margin:"0",color:p.h}},o),(null===b||void 0===b?void 0:b.finishDate)?Object(i.c)(Rating,{listItem:b}):null),Object(i.c)("div",{css:{marginLeft:10}},Object(i.c)("div",{css:{marginTop:"0.4em",fontStyle:"italic",fontSize:"0.85em"}},a),Object(i.c)("small",null,r.publisher))),Object(i.c)("small",{css:{whiteSpace:"break-spaces",display:"block"}},r.synopsis.substring(0,500),"..."))),Object(i.c)("div",{css:{marginLeft:"20px",position:"absolute",right:-20,color:p.f,display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"}},Object(i.c)(StatusButtons,{book:r})))}var C=o(68);function ListItemList(t){var r=t.filterListItems,o=t.noListItems,c=t.noFilteredListItems,a=Object(k.b)(),l=Object(y.e)(),u=l.listItems,d=l.isLoading,p=Object(j.useMemo)((function(){return u.filter(r)}),[r,u]);return Object(j.useEffect)((function(){a(Object(w.h)())}),[a]),d?Object(i.c)("div",{css:{width:"100%",margin:"auto",textAlign:"center"}},Object(i.c)(b.k,null)):u.length?p.length?Object(i.c)(C.a,{id:"List Item List",metadata:{listItemCount:p.length}},Object(i.c)(b.a,null,p.map((function(t){return Object(i.c)("li",{key:t.id,"aria-label":t.book.title},Object(i.c)(BookRow,{book:t.book}))})))):Object(i.c)("div",{css:{marginTop:"1em",fontSize:"1.2em"}},c):Object(i.c)("div",{css:{marginTop:"1em",fontSize:"1.2em"}},o)}var I=function NoListItems(){return j.createElement("p",null,"Hey there! Welcome to your bookshelf reading list. Get started by heading over to ",j.createElement(b.j,{to:"/discover"},"the Discover page")," to add books to your list.")},L=function NoFilteredListItems(){return j.createElement("p",null,"Looks like you've finished all your books! Check them out in your"," ",j.createElement(b.j,{to:"/finished"},"finished books")," or"," ",j.createElement(b.j,{to:"/discover"},"discover more"),".")};function ReadingListScreen(){return j.createElement(ListItemList,{filterListItems:function filterListItems(t){return!t.finishDate},noListItems:j.createElement(I,null),noFilteredListItems:j.createElement(L,null)})}var D=function NoListItems(){return j.createElement("p",null,"Hey there! This is where books will go when you've finished reading them. Get started by heading over to"," ",j.createElement(b.j,{to:"/discover"},"the Discover page")," to add books to your list.")},B=function NoFilteredListItems(){return j.createElement("p",null,"Looks like you've got some reading to do! Check them out in your"," ",j.createElement(b.j,{to:"/list"},"reading list")," or"," ",j.createElement(b.j,{to:"/discover"},"discover more"),".")};function FinishedScreen(){return j.createElement(ListItemList,{filterListItems:function filterListItems(t){return Boolean(t.finishDate)},noListItems:j.createElement(D,null),noFilteredListItems:j.createElement(B,null)})}function DiscoverBooksScreen(){var t=Object(k.b)(),r=Object(j.useState)(""),o=Object(E.a)(r,2),c=o[0],a=o[1],l=Object(j.useState)(),u=Object(E.a)(l,2),d=u[0],m=u[1],O=Object(y.b)(),v=O.data,x=O.isLoading,S=O.errMessage,I=!x&&void 0!==v,L=!!S;return Object(j.useEffect)((function(){t(Object(w.g)(c))}),[t,c]),Object(i.c)("div",null,Object(i.c)("div",null,Object(i.c)("form",{onSubmit:function handleSearchClick(t){t.preventDefault(),m(!0),a(t.target.elements.search.value)}},Object(i.c)(b.i,{placeholder:"Search books...",id:"search",type:"search",css:{width:"100%"}}),Object(i.c)(g.b,{label:"Search Books"},Object(i.c)("label",{htmlFor:"search"},Object(i.c)("button",{type:"submit",css:{border:"0",position:"relative",marginLeft:"-35px",background:"transparent"}},x?Object(i.c)(b.k,null):L?Object(i.c)(h.i,{"aria-label":"error",css:{color:p.b}}):Object(i.c)(h.f,{"aria-label":"search"}))))),L?Object(i.c)("div",{css:{color:p.b}},Object(i.c)("p",null,"There was an error:"),Object(i.c)("pre",null,S)):null),Object(i.c)("div",null,d?null:Object(i.c)("div",{css:{marginTop:20,fontSize:"1.2em",textAlign:"center"}},Object(i.c)("p",null,"Welcome to the discover page."),Object(i.c)("p",null,"Here, let me load a few books for you..."),x?Object(i.c)("div",{css:{width:"100%",margin:"auto"}},Object(i.c)(b.k,null)):I&&v.length?Object(i.c)("p",null,"Here you go! Find more books with the search bar above."):I&&!v.length?Object(i.c)("p",null,"Hmmm... I couldn't find any books to suggest for you. Sorry."):null),(null===v||void 0===v?void 0:v.length)?Object(i.c)(C.a,{id:"Discover Books Screen Book List",metadata:{query:c,bookCount:v.length}},Object(i.c)(b.a,{css:{marginTop:20}},v.map((function(t){return Object(i.c)("li",{key:t.id,"aria-label":t.title},Object(i.c)(BookRow,{key:t.id,book:t}))})))):d?Object(i.c)("div",{css:{marginTop:20,fontSize:"1.2em",textAlign:"center"}},x?Object(i.c)("div",{css:{width:"100%",margin:"auto"}},Object(i.c)(b.k,null)):Object(i.c)("p",null,"Hmmm... I couldn't find any books with the query \"",c,'." Please try another.')):null))}var T=o(166),P=o.n(T),R=function formatDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",year:"2-digit"}).format(t)},N=o(1),_=o.n(N),A=o(34),H=o(3),K=o(6),W=o(60),M=o(28),U=o(15);var q=m.a.createContext();function useClient(){var t=Object(y.a)().user,r=Object(j.useMemo)((function(){return null===t||void 0===t?void 0:t.token}),[null===t||void 0===t?void 0:t.token]);return m.a.useCallback((function(t,o){return Object(U.b)(t,Object(K.a)(Object(K.a)({},o),{},{token:r}))}),[r])}q.displayName="AuthContext";var z={title:"Loading...",author:"loading...",coverImageUrl:o(88).a,publisher:"Loading Publishing",synopsis:"Loading...",loadingBook:!0},G=(Array.from({length:10},(function(t,r){return Object(K.a)({id:"loading-book-".concat(r)},z)})),{staleTime:36e5,cacheTime:36e5});function setQueryDataForBook(t){W.queryCache.setQueryData(["book",{bookId:t.id}],t,G)}function useListItems(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=useClient(),o=Object(W.useQuery)(Object(K.a)(Object(K.a)({queryKey:"list-items",queryFn:function queryFn(){return r("list-items").then((function(t){return t.listItems}))}},t),{},{config:Object(K.a)(Object(K.a)({},t.config),{},{onSuccess:function(){var r=Object(H.a)(_.a.mark((function _callee(r){var o,c,i,a;return _.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,null===(o=t.config)||void 0===o||null===(c=o.onSuccess)||void 0===c?void 0:c.call(o,r);case 2:i=Object(A.a)(r);try{for(i.s();!(a=i.n()).done;)setQueryDataForBook(a.value.book)}catch(u){i.e(u)}finally{i.f()}case 4:case"end":return l.stop()}}),_callee)})));return function onSuccess(t){return r.apply(this,arguments)}}()})})),c=o.data;return null!==c&&void 0!==c?c:[]}function BookScreen(){var t=Object(a.i)().bookId,r=Object(k.b)(),o=Object(y.c)().data,l=Object(y.d)(t),u=o.title,b=o.author,m=o.coverImageUrl,O=o.publisher,h=o.synopsis;return Object(j.useEffect)((function(){r(Object(w.f)(t))}),[t,r]),Object(i.c)(C.a,{id:"Book Screen",metadata:{bookId:t,listItemId:null===l||void 0===l?void 0:l.id}},Object(i.c)("div",null,Object(i.c)("div",{css:Object(c.a)({display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"2em",marginBottom:"1em"},d.a,{display:"flex",flexDirection:"column"})},Object(i.c)("img",{src:m,alt:"".concat(u," book cover"),css:{width:"100%",maxWidth:"14rem"}}),Object(i.c)("div",null,Object(i.c)("div",{css:{display:"flex",position:"relative"}},Object(i.c)("div",{css:{flex:1,justifyContent:"space-between"}},Object(i.c)("h1",null,u),Object(i.c)("div",null,Object(i.c)("i",null,b),Object(i.c)("span",{css:{marginRight:6,marginLeft:6}},"|"),Object(i.c)("i",null,O))),Object(i.c)("div",{css:{right:0,color:p.f,display:"flex",flexDirection:"column",justifyContent:"space-around",minHeight:100}},o.loadingBook?null:Object(i.c)(StatusButtons,{book:o}))),Object(i.c)("div",{css:{marginTop:10,minHeight:46}},(null===l||void 0===l?void 0:l.finishDate)?Object(i.c)(Rating,{listItem:l}):null,l?Object(i.c)(ListItemTimeframe,{listItem:l}):null),Object(i.c)("br",null),Object(i.c)("p",{css:{whiteSpace:"break-spaces",display:"block"}},h))),!o.loadingBook&&l?Object(i.c)(NotesTextarea,{listItem:l}):null))}function ListItemTimeframe(t){var r=t.listItem,o=r.finishDate?"Start and finish date":"Start date";return Object(i.c)(g.b,{label:o},Object(i.c)("div",{"aria-label":o,css:{marginTop:6}},Object(i.c)(h.e,{css:{marginTop:-2,marginRight:5}}),Object(i.c)("span",null,R(r.startDate)," ",r.finishDate?"\u2014 ".concat(R(r.finishDate)):null)))}function NotesTextarea(t){var r=t.listItem,o=Object(k.b)(),c=useListItems().isUpdating,a=Object(j.useCallback)((function(t){return o(Object(w.l)(t))}),[o]),l=Object(j.useMemo)((function(){return P()(a,{wait:300})}),[a]);return Object(i.c)(m.a.Fragment,null,Object(i.c)("div",null,Object(i.c)("label",{htmlFor:"notes",css:{display:"inline-block",marginRight:10,marginTop:"0",marginBottom:"0.5rem",fontWeight:"bold"}},"Notes"),c?Object(i.c)(b.k,null):null),Object(i.c)(b.l,{id:"notes",defaultValue:r.notes,onChange:function handleNotesChange(t){l({id:r.id,notes:t.target.value})},css:{width:"100%",minHeight:300}}))}function NotFoundScreen(){return Object(i.c)("div",{css:{height:"100%",display:"grid",alignItems:"center",justifyContent:"center"}},Object(i.c)("div",null,"Sorry... nothing here. ",Object(i.c)(b.j,{to:"/list"},"Go home")))}function ErrorFallback(t){var r=t.error;return Object(i.c)(b.e,{error:r,css:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})}function NavLink(t){var r=Object(a.g)(t.to);return Object(i.c)(l.b,Object.assign({css:[{display:"block",padding:"8px 15px 8px 10px",margin:"5px 0",width:"100%",height:"100%",color:p.k,borderRadius:"2px",borderLeft:"5px solid transparent",":hover":{color:p.h,textDecoration:"none",background:p.d}},r?{borderLeft:"5px solid ".concat(p.h),background:p.d,":hover":{background:p.d}}:null]},t))}function Nav(){return Object(i.c)("nav",{css:Object(c.a)({position:"sticky",top:"4px",padding:"1em 1.5em",border:"1px solid ".concat(p.d),borderRadius:"3px"},d.a,{position:"static",top:"auto"})},Object(i.c)("ul",{css:{listStyle:"none",padding:"0"}},Object(i.c)("li",null,Object(i.c)(NavLink,{to:"/list"},"Reading List")),Object(i.c)("li",null,Object(i.c)(NavLink,{to:"/finished"},"Finished Books")),Object(i.c)("li",null,Object(i.c)(NavLink,{to:"/discover"},"Discover"))))}function AppRoutes(){return Object(i.c)(a.c,null,Object(i.c)(a.a,{path:"/list",element:Object(i.c)(ReadingListScreen,null)}),Object(i.c)(a.a,{path:"/finished",element:Object(i.c)(FinishedScreen,null)}),Object(i.c)(a.a,{path:"/discover",element:Object(i.c)(DiscoverBooksScreen,null)}),Object(i.c)(a.a,{path:"/book/:bookId",element:Object(i.c)(BookScreen,null)}),Object(i.c)(a.a,{path:"*",element:Object(i.c)(NotFoundScreen,null)}))}r.default=function AuthenticatedApp(){var t=Object(y.a)().user;return Object(i.c)(u.ErrorBoundary,{FallbackComponent:b.g},Object(i.c)("div",{css:{display:"flex",alignItems:"center",position:"absolute",top:"10px",right:"10px"}},t.username,Object(i.c)(b.b,{variant:"secondary",css:{marginLeft:"10px"},onClick:M.c},"Logout")),Object(i.c)("div",{css:Object(c.a)({margin:"0 auto",padding:"4em 2em",maxWidth:"840px",width:"100%",display:"grid",gridGap:"1em",gridTemplateColumns:"1fr 3fr"},d.a,{gridTemplateColumns:"1fr",gridTemplateRows:"auto",width:"100%"})},Object(i.c)("div",{css:{position:"relative"}},Object(i.c)(Nav,null)),Object(i.c)("main",{css:{width:"100%"}},Object(i.c)(u.ErrorBoundary,{FallbackComponent:ErrorFallback},Object(i.c)(AppRoutes,null)))))}}}]);
//# sourceMappingURL=4.71f8fe19.chunk.js.map