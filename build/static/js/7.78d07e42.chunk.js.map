{"version":3,"sources":["../node_modules/@reach/visually-hidden/dist/reach-visually-hidden.esm.js","components/modal.js","components/logo.js","unauthenticated-app.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","VisuallyHidden","forwardRef","_ref","ref","_ref$as","as","Comp","_ref$style","style","props","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","createElement","border","clip","height","margin","overflow","padding","position","width","whiteSpace","wordWrap","callAll","fns","args","forEach","fn","ModalContext","React","Modal","isOpen","setIsOpen","Provider","value","ModalDismissButton","child","children","onClick","ModalOpenButton","ModalContentsBase","onDismiss","ModalContents","title","css","display","justifyContent","aria-hidden","textAlign","fontSize","Logo","viewBox","xmlns","d","fill","LoginForm","onSubmit","submitButton","useAsync","isLoading","run","handleSubmit","event","preventDefault","elements","username","password","flexDirection","alignItems","maxWidth","htmlFor","id","type","cloneElement","Array","isArray","marginLeft","UnauthenticatedApp","dispatch","useDispatch","handleLoginSubmit","useCallback","formValue","login","handleLoginRegister","register","gridTemplateColumns","gridGap","variant","aria-label"],"mappings":"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","file":"static/js/7.78d07e42.chunk.js","sourcesContent":["import { forwardRef, createElement } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n/**\n * VisuallyHidden\n *\n * Provides text for screen readers that is visually hidden.\n * It is the logical opposite of the `aria-hidden` attribute.\n */\nvar VisuallyHidden = /*#__PURE__*/forwardRef(function VisuallyHidden(_ref, ref) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"span\" : _ref$as,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"style\"]);\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    ref: ref,\n    style: _extends({\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: \"1px\",\n      margin: \"-1px\",\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      width: \"1px\",\n      // https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n      whiteSpace: \"nowrap\",\n      wordWrap: \"normal\"\n    }, style)\n  }, props));\n});\n/**\n * @see Docs https://reach.tech/visually-hidden#visuallyhidden-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  VisuallyHidden.displayName = \"VisuallyHidden\";\n  VisuallyHidden.propTypes = {\n    as: PropTypes.any,\n    children: PropTypes.node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default VisuallyHidden;\nexport { VisuallyHidden };\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport VisuallyHidden from '@reach/visually-hidden'\nimport {Dialog, CircleButton} from './lib'\n\nconst callAll =\n  (...fns) =>\n  (...args) =>\n    fns.forEach(fn => fn && fn(...args))\n\nconst ModalContext = React.createContext()\n\nfunction Modal(props) {\n  const [isOpen, setIsOpen] = React.useState(false)\n\n  return <ModalContext.Provider value={[isOpen, setIsOpen]} {...props} />\n}\n\nfunction ModalDismissButton({children: child}) {\n  const [, setIsOpen] = React.useContext(ModalContext);\n\n  return React.cloneElement(child, {\n    onClick: callAll(() => setIsOpen(false), child.props.onClick),\n  })\n}\n\nfunction ModalOpenButton({children: child}) {\n  const [, setIsOpen] = React.useContext(ModalContext)\n  return React.cloneElement(child, {\n    onClick: callAll(() => setIsOpen(true), child.props.onClick),\n  })\n}\n\nfunction ModalContentsBase(props) {\n  const [isOpen, setIsOpen] = React.useContext(ModalContext)\n  return (\n    <Dialog isOpen={isOpen} onDismiss={() => setIsOpen(false)} {...props} />\n  )\n}\n\nfunction ModalContents({title, children, ...props}) {\n  return (\n    <ModalContentsBase {...props}>\n      <div css={{display: 'flex', justifyContent: 'flex-end'}}>\n        <ModalDismissButton>\n          <CircleButton>\n            <VisuallyHidden>Close</VisuallyHidden>\n            <span aria-hidden>Ã—</span>\n          </CircleButton>\n        </ModalDismissButton>\n      </div>\n      <h3 css={{textAlign: 'center', fontSize: '2em'}}>{title}</h3>\n      {children}\n    </ModalContentsBase>\n  )\n}\n\nexport {Modal, ModalDismissButton, ModalOpenButton, ModalContents}\n","import * as React from 'react'\n\nconst Logo = ({width = '48', height = '48'}) => {\n  return (\n    <svg\n      width={`${width}px`}\n      height={`${height}px`}\n      viewBox={`0 0 48 48`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <title>Bookshelf</title>\n      <g>\n        <path\n          d=\"M12,5H2C1.44772,5,1,5.44772,1,6v27h12V6C13,5.44772,12.55229,5,12,5z\"\n          fill=\"#E86C60\"\n        />\n        <path\n          d=\"M12,43H2c-0.55228,0-1-0.44772-1-1V32h12v10C13,42.55228,12.55229,43,12,43z\"\n          fill=\"#444444\"\n        />\n        <path\n          d=\"M8,23H6c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55229,0,1,0.44771,1,1v11 C9,22.55228,8.55229,23,8,23z\"\n          fill=\"#FFFFFF\"\n        />\n        <path\n          d=\"M35.44301,3.67613l-9.68988,2.47109c-0.53516,0.13647-0.85835,0.68094-0.72188,1.2161l6.67194,26.16267 l11.62785-2.96531L36.6591,4.398C36.52263,3.86285,35.97816,3.53965,35.44301,3.67613z\"\n          fill=\"#43A6DD\"\n        />\n        <path\n          d=\"M44.83315,40.49766l-9.68988,2.47109c-0.53516,0.13647-1.07962-0.18672-1.21609-0.72188l-2.47109-9.68988 l11.62785-2.96531l2.47109,9.68987C45.69151,39.81672,45.36831,40.36118,44.83315,40.49766z\"\n          fill=\"#444444\"\n        />\n        <path\n          d=\"M36.01502,22.10634l-1.93797,0.49422c-0.53516,0.13647-1.07962-0.18672-1.2161-0.72188l-2.7182-10.65886 c-0.13647-0.53516,0.18672-1.07962,0.72188-1.2161L32.8026,9.5095c0.53516-0.13647,1.07962,0.18672,1.2161,0.72188l2.7182,10.65886 C36.87337,21.4254,36.55017,21.96987,36.01502,22.10634z\"\n          fill=\"#FFFFFF\"\n        />\n        <path\n          d=\"M24,5H14c-0.55229,0-1,0.44772-1,1v27h12V6C25,5.44772,24.55228,5,24,5z\"\n          fill=\"#E6E6E6\"\n        />\n        <path\n          d=\"M24,43H14c-0.55229,0-1-0.44772-1-1V32h12v10C25,42.55228,24.55228,43,24,43z\"\n          fill=\"#B3B3B3\"\n        />\n        <path\n          d=\"M20,23h-2c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55228,0,1,0.44771,1,1v11 C21,22.55228,20.55228,23,20,23z\"\n          fill=\"#FFFFFF\"\n        />\n      </g>\n    </svg>\n  )\n}\n\nexport {Logo}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport { useCallback, cloneElement } from 'react'\nimport {Input, Button, Spinner, FormGroup} from './components/lib'\nimport {Modal, ModalContents, ModalOpenButton} from './components/modal'\nimport {Logo} from './components/logo'\nimport { login, register } from 'store/actions'\nimport { useDispatch } from 'react-redux'\nimport { useAsync } from 'utils/hooks'\n\nfunction LoginForm({onSubmit, submitButton}) {\n  const { isLoading, run } = useAsync();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = event.target.elements;\n\n    run(\n      onSubmit({\n      username: username.value,\n      password: password.value,\n      })\n    );\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      css={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        '> div': {\n          margin: '10px auto',\n          width: '100%',\n          maxWidth: '300px',\n        },\n      }}\n    >\n      <FormGroup>\n        <label htmlFor=\"username\">Username</label>\n        <Input id=\"username\" />\n      </FormGroup>\n      <FormGroup>\n        <label htmlFor=\"password\">Password</label>\n        <Input id=\"password\" type=\"password\" />\n      </FormGroup>\n      <div>\n        {cloneElement(\n          submitButton,\n          {type: 'submit'},\n          ...(Array.isArray(submitButton.props.children)\n            ? submitButton.props.children\n            : [submitButton.props.children]),\n          isLoading ? <Spinner css={{marginLeft: 5}} /> : null,\n        )}\n      </div>\n    </form>\n  )\n}\n\nfunction UnauthenticatedApp() {\n  const dispatch = useDispatch();\n\n  const handleLoginSubmit = useCallback((formValue) => dispatch(login(formValue)), [dispatch]);\n  const handleLoginRegister = useCallback((formValue) => dispatch(register(formValue)), [dispatch]);\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        height: '100vh',\n      }}\n    >\n      <Logo width=\"80\" height=\"80\" />\n      <h1>Bookshelf</h1>\n      <div\n        css={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(2, minmax(0, 1fr))',\n          gridGap: '0.75rem',\n        }}\n      >\n        <Modal>\n          <ModalOpenButton>\n            <Button variant=\"primary\">Login</Button>\n          </ModalOpenButton>\n          <ModalContents aria-label=\"Login form\" title=\"Login\">\n            <LoginForm\n              onSubmit={handleLoginSubmit}\n              submitButton={<Button variant=\"primary\">Login</Button>}\n            />\n          </ModalContents>\n        </Modal>\n        <Modal>\n          <ModalOpenButton>\n            <Button variant=\"secondary\">Register</Button>\n          </ModalOpenButton>\n          <ModalContents aria-label=\"Registration form\" title=\"Register\">\n            <LoginForm\n              onSubmit={handleLoginRegister}\n              submitButton={<Button variant=\"secondary\">Register</Button>}\n            />\n          </ModalContents>\n        </Modal>\n      </div>\n    </div>\n  );\n}\n\nexport default UnauthenticatedApp;\n"],"sourceRoot":""}